{"version":3,"file":"app~4071055a.bundle.js","mappings":";y+DAA0C,IAEpCA,EAAc,8cAClB,aAAc,MAE2C,mGAF3C,UACZ,gBACKC,YAAc,EAAKC,aAAa,CAAEC,KAAM,SAAU,CACzD,CAkMC,SAlMA,4BAED,SAAeC,GACbC,KAAKC,YAAcF,CACrB,GAAC,gCAED,WAAqB,WACbG,EAAoBC,SAASC,cACjC,8BAGIC,EAAKC,aAAY,WACrB,IAAMC,EAAkBJ,SAASC,cAAc,oBACzCI,EAAkBL,SAASC,cAAc,YAC3CF,GAAqBK,GAAmBC,IAC1C,EAAKZ,YAAYa,YAAYP,EAAkBQ,aAC/C,EAAKd,YAAYa,YAAYF,EAAgBG,UAAU,SACvD,EAAKd,YAAYa,YAAYD,EAAgBE,UAAU,SACvDC,cAAcN,GAElB,GAAG,IACL,GAAC,+BAED,WACEL,KAAKY,qBACLZ,KAAKa,QACP,GAAC,oBAED,WACEb,KAAKJ,YAAYkB,UAAY,0kGAAH,OAsJZC,EAAAA,EAAAA,sBAA2B,OAAGf,KAAKC,YAAYe,UAAS,mDAA2ChB,KAAKC,YAAYgB,KAAI,gIAG1HjB,KAAKC,YAAYiB,OAAM,iMAM7BlB,KAAKC,YAAYkB,KAAI,wFAE8BnB,KAAKC,YAAYI,GAAE,aAAKL,KAAKC,YAAYgB,KAAI,oEAC1DjB,KAAKC,YAAYmB,YAAW,uBAG1E,0EAAC,EAtMiB,CAsMjB,EAtM0BC,cAyM7BC,eAAeC,OAAO,kBAAmB5B,oSC1MzC,knGAAA6B,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,0lBAAAA,EAAA,EAAAA,EAAA,SAAAA,IAAA,SAAAA,GAAA,+kDACmE,IAE7DC,EAAU,aAHhB,qRAGgB,UAHhB,QAoBG,EAjBa,GAHhB,EAGgB,EAHhB,mJAIE,aAAc,MAE2C,OAN3D,4FAIgB,UACZ,gBACK7B,YAAc,EAAKC,aAAa,CAAEC,KAAM,SAAU,CACzD,CAmHC,OA1HH,EAOG,EAPH,EAOG,gCAED,WACEE,KAAKa,SACLb,KAAK0B,oBACP,GAAC,gCAED,WAAqB,WACnB1B,KAAKJ,YACFQ,cAAc,gBACduB,iBAAiB,QAAO,YAAE,8FACnB,EAAKC,cAAa,2CAE9B,GAAC,wCAED,4FAI0E,OAHlEC,EAAMC,EAAAA,EAAAA,gCACNC,EAAeF,EAAIxB,GACnB2B,EAAYhC,KAAKJ,YAAYQ,cAAc,cAAc6B,MACzDC,EAAclC,KAAKJ,YAAYQ,cAAc,gBAAgB6B,MAAK,SAC/CE,EAAAA,EAAAA,iBAAqC,CAC5D9B,GAAI0B,EACJd,KAAMe,EACNI,OAAQF,IACR,OAJc,OAAVG,EAAa,EAAH,cAKVF,EAAAA,EAAAA,iBAAqCJ,GAAa,OACxDO,EAAAA,EAAAA,UAA+BD,GAAY,iDAC5C,iEAED,WACErC,KAAKJ,YAAYkB,UAAY,u2EAqF/B,IA1HF,uEA0HG,EAvHa,CAuHb,EAvHsBO,cA0HzBC,eAAeC,OAAO,cAAeE","sources":["webpack://restaurant-apps/./src/scripts/views/components/restaurant-item.js","webpack://restaurant-apps/./src/scripts/views/components/review-form.js"],"sourcesContent":["import CONFIG from '../../globals/config';\r\n\r\nclass RestaurantItem extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this._shadowRoot = this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  set dataSource(source) {\r\n    this._dataSource = source;\r\n  }\r\n\r\n  _fontAwesomeLoader() {\r\n    const fontAwesomeScript = document.querySelector(\r\n      'script[src*=\"fontawesome\"]',\r\n    );\r\n\r\n    const id = setInterval(() => {\r\n      const fontAwesomeFont = document.querySelector('#fa-v5-font-face');\r\n      const fontAwesomeMain = document.querySelector('#fa-main');\r\n      if (fontAwesomeScript && fontAwesomeFont && fontAwesomeMain) {\r\n        this._shadowRoot.appendChild(fontAwesomeScript.cloneNode());\r\n        this._shadowRoot.appendChild(fontAwesomeFont.cloneNode('deep'));\r\n        this._shadowRoot.appendChild(fontAwesomeMain.cloneNode('deep'));\r\n        clearInterval(id);\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  connectedCallback() {\r\n    this._fontAwesomeLoader();\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this._shadowRoot.innerHTML = `\r\n    <style>\r\n    * {\r\n        padding: 0;\r\n        margin: 0;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    :host {\r\n        width: 100%;\r\n        box-shadow: rgba(0, 0, 0, 0.1) 0px 10px 50px;\r\n    }\r\n\r\n    .restaurant-item__thumbnail {\r\n        width: 100%;\r\n        position: relative;\r\n    }\r\n\r\n    .restaurant-item__picture {\r\n        width: 100%;\r\n    }\r\n    \r\n    .restaurant-item__rating {\r\n        width: 50px;\r\n        height: 50px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background: rgb(255, 113, 113);\r\n        color: #fff;\r\n        position: absolute;\r\n        top: 25px;\r\n        right: 25px;\r\n        transform: translate(50%, -50%);\r\n    }\r\n    \r\n    .restaurant-item__rating span {\r\n        font-size: 1.2em;\r\n    }\r\n    \r\n    .restaurant-item__rating i {\r\n        font-size: 1.7em;\r\n    }\r\n    \r\n    .restaurant-item__content {\r\n        padding: 20px;\r\n    }\r\n    \r\n    .restaurant-item__city {\r\n        text-transform: uppercase;\r\n        font-size: 1.05em;\r\n        font-weight: bold;\r\n    }\r\n    \r\n    .restaurant-item__title {\r\n        font-size: 1.8em;\r\n    }\r\n\r\n    .restaurant-item__title > a {\r\n        color: black;\r\n        display: inline-block;\r\n        min-width: 44px;\r\n        min-height: 44px;\r\n    }\r\n\r\n    .restaurant-item__title > a:hover {\r\n        color: rgb(255, 113, 113);\r\n    }\r\n    \r\n    .restaurant-item__description {\r\n        font-size: 1.2em;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 5;\r\n        -webkit-box-orient: vertical;\r\n    }\r\n\r\n    @media screen and (min-width: 425px) {\r\n        .restaurant-item__content {\r\n          padding: 20px 35px;\r\n        }\r\n    }\r\n    \r\n    @media screen and (min-width: 525px) {\r\n        .restaurant-item__content {\r\n          padding: 20px 50px;\r\n        }\r\n    \r\n        .restaurant-item__description {\r\n          font-size: 1.3em;\r\n        }\r\n    }\r\n\r\n    @media screen and (min-width: 712px) {\r\n        :host {\r\n          width: 40%;\r\n        }\r\n\r\n        .restaurant-item__content {\r\n          padding: 20px;\r\n        }\r\n    \r\n        .restaurant-item__description {\r\n          font-size: 1.2em;\r\n        }\r\n    }\r\n\r\n    @media screen and (min-width: 850px) {\r\n        .restaurant-item__content {\r\n          padding: 20px 40px;\r\n        }\r\n    \r\n        .restaurant-item__description {\r\n          font-size: 1.3em;\r\n        }\r\n    }\r\n\r\n    @media screen and (min-width: 1000px) {\r\n        :host {\r\n          width: 30%;\r\n        }\r\n\r\n        .restaurant-item__content {\r\n          padding: 20px;\r\n        }\r\n    \r\n        .restaurant-item__description {\r\n          font-size: 1.2em;\r\n        }\r\n    }\r\n\r\n    @media screen and (min-width: 1200px) {\r\n        .restaurant-item__content {\r\n          padding: 20px 30px;\r\n        }\r\n    \r\n        .restaurant-item__description {\r\n          font-size: 1.3em;\r\n        }\r\n    \r\n        .restaurant-item__title {\r\n          font-size: 2em;\r\n        }\r\n    }\r\n    </style>\r\n\r\n\r\n    <div class='restaurant-item__thumbnail'>\r\n      <img src='${CONFIG.BASE_IMAGE_URL_SMALL}${this._dataSource.pictureId}' class='restaurant-item__picture' alt='${this._dataSource.name}' loading=\"lazy\">\r\n      <div class='restaurant-item__rating'>\r\n        <i class='fa fa-heart'></i>\r\n        <span>${this._dataSource.rating}</span>\r\n      </div>\r\n    </div>\r\n    <div class='restaurant-item__content'>\r\n      <span class='restaurant-item__city'> \r\n        <i class='fa-solid fa-location-pin'></i>\r\n        ${this._dataSource.city}\r\n      </span>\r\n      <h3 class='restaurant-item__title'><a href=\"#/detail/${this._dataSource.id}\">${this._dataSource.name}</a></h3>\r\n      <p class='restaurant-item__description'>${this._dataSource.description}</p>\r\n    </div>\r\n  `;\r\n  }\r\n}\r\n\r\ncustomElements.define('restaurant-item', RestaurantItem);\r\n","import UrlParser from '../../routes/url-parser';\r\nimport RestaurantApiSource from '../../data/restaurantapi-source';\r\nimport RestaurantDetailPage from '../pages/restaurant-detail-page';\r\n\r\nclass ReviewForm extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this._shadowRoot = this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.render();\r\n    this._postReviewOnClick();\r\n  }\r\n\r\n  _postReviewOnClick() {\r\n    this._shadowRoot\r\n      .querySelector('#buttonInput')\r\n      .addEventListener('click', async () => {\r\n        await this._postReview();\r\n      });\r\n  }\r\n\r\n  async _postReview() {\r\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n    const idRestaurant = url.id;\r\n    const nameInput = this._shadowRoot.querySelector('#nameInput').value;\r\n    const reviewInput = this._shadowRoot.querySelector('#reviewInput').value;\r\n    const reviewData = await RestaurantApiSource.reviewRestaurant({\r\n      id: idRestaurant,\r\n      name: nameInput,\r\n      review: reviewInput,\r\n    });\r\n    await RestaurantApiSource.detailRestaurant(idRestaurant); // refresh data from API\r\n    RestaurantDetailPage.addReview(reviewData);\r\n  }\r\n\r\n  render() {\r\n    this._shadowRoot.innerHTML = `\r\n    <style>\r\n    * {\r\n        padding: 0;\r\n        margin: 0;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .restaurant-detail__review__form-group {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin: 2px;\r\n    }\r\n      \r\n    .restaurant-detail__review__form-group > label {\r\n        width: 1%;\r\n        flex: auto;\r\n        padding: 1.1em 0.2em;\r\n        text-align: center;\r\n        background-color: rgb(255, 113, 113);\r\n        min-width: 44px;\r\n        min-height: 44px;\r\n        color: #fff;\r\n    }\r\n      \r\n    .restaurant-detail__review__form-control {\r\n        padding: 1em 0.5em;\r\n        background-color: #f3f3f3;\r\n        border: solid 0px;\r\n        min-width: 44px;\r\n        min-height: 44px;\r\n        flex: auto;\r\n    }\r\n      \r\n    .restaurant-detail__review__form-button {\r\n        border: rgb(255, 113, 113) 1px solid;\r\n        padding: 1em 1.1em;\r\n        color: rgb(255, 113, 113);\r\n        background-color: #fff;\r\n    }\r\n      \r\n    .restaurant-detail__review__form-button:hover {\r\n        border: #fff 1px solid;\r\n        padding: 1em 1.1em;\r\n        color: #fff;\r\n        background-color: rgb(255, 113, 113);\r\n    }\r\n\r\n    @media screen and (min-width: 500px) {\r\n      :host {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n      }\r\n\r\n      .restaurant-detail__review__form-group {\r\n        width: 80%;\r\n      }\r\n\r\n      .restaurant-detail__review__form-group > label {\r\n        font-size: 1.2em;\r\n        padding: 0.8em\r\n      }\r\n    }\r\n\r\n    @media screen and (min-width: 720px) {\r\n      .restaurant-detail__review__form-group {\r\n        width: 50%;\r\n      }\r\n    }\r\n    </style>\r\n\r\n    <div class=\"restaurant-detail__review__form-group name-input\">\r\n        <label for=\"nameInput\">Name</label>\r\n        <input id=\"nameInput\" type=\"text\" class=\"restaurant-detail__review__form-control\" placeholder=\"Insert your name\">\r\n    </div>\r\n    <div class=\"restaurant-detail__review__form-group review-input\">\r\n        <label for=\"reviewInput\">Review</label>\r\n        <input id=\"reviewInput\" type=\"text\" class=\"restaurant-detail__review__form-control\" placeholder=\"Type your review here!\">\r\n    </div>\r\n    <div class=\"restaurant-detail__review__form-group button-input\">\r\n        <button id=\"buttonInput\" class=\"restaurant-detail__review__form-button\">Post Review</button>\r\n    </div>\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define('review-form', ReviewForm);\r\n"],"names":["RestaurantItem","_shadowRoot","attachShadow","mode","source","this","_dataSource","fontAwesomeScript","document","querySelector","id","setInterval","fontAwesomeFont","fontAwesomeMain","appendChild","cloneNode","clearInterval","_fontAwesomeLoader","render","innerHTML","CONFIG","pictureId","name","rating","city","description","HTMLElement","customElements","define","i","ReviewForm","_postReviewOnClick","addEventListener","_postReview","url","UrlParser","idRestaurant","nameInput","value","reviewInput","RestaurantApiSource","review","reviewData","RestaurantDetailPage"],"sourceRoot":""}